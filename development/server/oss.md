# 对象存储

PotatoVN Server使用支持AWS S3的对象存储系统。

文件上传逻辑：

* 客户端申请上传预签名链接，提交待上传所需的空间（byte）
* 服务器检查用户剩余空间，并创建一个允许最大提交大小为 `Min(申请空间，剩余空间)`的预签名上传链接，并预先占用用户该大小的空间。
* 客户端使用获得的预签名链接上传文件
* （无论上传是否成功）通知服务器，服务器在对象存储服务对应位置检查实际文件大小，并更新用户剩余空间。
